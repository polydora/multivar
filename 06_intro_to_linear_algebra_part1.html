<!DOCTYPE html>
<html>
<head>
  <title>Краткое введение в мир линейной алгебры</title>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="generator" content="pandoc" />




  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">

  <base target="_blank">

  <script type="text/javascript">
    var SLIDE_CONFIG = {
      // Slide settings
      settings: {
                title: 'Краткое введение в мир линейной алгебры',
                        useBuilds: true,
        usePrettify: true,
        enableSlideAreas: true,
        enableTouch: true,
                        favIcon: '06_intro_to_linear_algebra_part1_files/logo.png',
              },

      // Author information
      presenters: [
            {
        name:  'Вадим Хайтов, Марина Варфоломеева' ,
        company: '',
        gplus: '',
        twitter: '',
        www: '',
        github: ''
      },
            ]
    };
  </script>

  <script src="site_libs/header-attrs-2.11/header-attrs.js"></script>
  <link href="site_libs/ioslides-13.5.1/fonts/fonts.css" rel="stylesheet" />
  <link href="site_libs/ioslides-13.5.1/theme/css/default.css" rel="stylesheet" />
  <link href="site_libs/ioslides-13.5.1/theme/css/phone.css" rel="stylesheet" />
  <script src="site_libs/ioslides-13.5.1/js/modernizr.custom.45394.js"></script>
  <script src="site_libs/ioslides-13.5.1/js/prettify/prettify.js"></script>
  <script src="site_libs/ioslides-13.5.1/js/prettify/lang-r.js"></script>
  <script src="site_libs/ioslides-13.5.1/js/prettify/lang-yaml.js"></script>
  <script src="site_libs/ioslides-13.5.1/js/hammer.js"></script>
  <script src="site_libs/ioslides-13.5.1/js/slide-controller.js"></script>
  <script src="site_libs/ioslides-13.5.1/js/slide-deck.js"></script>

  <style type="text/css">

    b, strong {
      font-weight: bold;
    }

    em {
      font-style: italic;
    }

    summary {
      display: list-item;
    }

    slides > slide {
      -webkit-transition: all 0.4s ease-in-out;
      -moz-transition: all 0.4s ease-in-out;
      -o-transition: all 0.4s ease-in-out;
      transition: all 0.4s ease-in-out;
    }

    .auto-fadein {
      -webkit-transition: opacity 0.6s ease-in;
      -webkit-transition-delay: 0.4s;
      -moz-transition: opacity 0.6s ease-in 0.4s;
      -o-transition: opacity 0.6s ease-in 0.4s;
      transition: opacity 0.6s ease-in 0.4s;
      opacity: 0;
    }
/* https://github.com/ropensci/plotly/pull/524#issuecomment-468142578 */
slide:not(.current) .plotly.html-widget{
  display: block;
}

    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
            pre > code.sourceCode { white-space: pre; position: relative; }
            pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
            pre > code.sourceCode > span:empty { height: 1.2em; }
            .sourceCode { overflow: visible; }
            code.sourceCode > span { color: inherit; text-decoration: inherit; }
            div.sourceCode { margin: 1em 0; }
            pre.sourceCode { margin: 0; }
            @media screen {
            div.sourceCode { overflow: auto; }
            }
            @media print {
            pre > code.sourceCode { white-space: pre-wrap; }
            pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
            }
            pre.numberSource code
              { counter-reset: source-line 0; }
            pre.numberSource code > span
              { position: relative; left: -4em; counter-increment: source-line; }
            pre.numberSource code > span > a:first-child::before
              { content: counter(source-line);
                position: relative; left: -1em; text-align: right; vertical-align: baseline;
                border: none; display: inline-block;
                -webkit-touch-callout: none; -webkit-user-select: none;
                -khtml-user-select: none; -moz-user-select: none;
                -ms-user-select: none; user-select: none;
                padding: 0 4px; width: 4em;
                color: #aaaaaa;
              }
            pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
            div.sourceCode
              {   }
            @media screen {
            pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
            }
            code span.al { color: #ff0000; font-weight: bold; } /* Alert */
            code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
            code span.at { color: #7d9029; } /* Attribute */
            code span.bn { color: #40a070; } /* BaseN */
            code span.bu { color: #008000; } /* BuiltIn */
            code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
            code span.ch { color: #4070a0; } /* Char */
            code span.cn { color: #880000; } /* Constant */
            code span.co { color: #60a0b0; font-style: italic; } /* Comment */
            code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
            code span.do { color: #ba2121; font-style: italic; } /* Documentation */
            code span.dt { color: #902000; } /* DataType */
            code span.dv { color: #40a070; } /* DecVal */
            code span.er { color: #ff0000; font-weight: bold; } /* Error */
            code span.ex { } /* Extension */
            code span.fl { color: #40a070; } /* Float */
            code span.fu { color: #06287e; } /* Function */
            code span.im { color: #008000; font-weight: bold; } /* Import */
            code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
            code span.kw { color: #007020; font-weight: bold; } /* Keyword */
            code span.op { color: #666666; } /* Operator */
            code span.ot { color: #007020; } /* Other */
            code span.pp { color: #bc7a00; } /* Preprocessor */
            code span.sc { color: #4070a0; } /* SpecialChar */
            code span.ss { color: #bb6688; } /* SpecialString */
            code span.st { color: #4070a0; } /* String */
            code span.va { color: #19177c; } /* Variable */
            code span.vs { color: #4070a0; } /* VerbatimString */
            code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
        
    slides > slide:not(.nobackground):before {
      font-size: 12pt;
      content: "";
      position: absolute;
      bottom: 20px;
      left: 60px;
      background: url(06_intro_to_linear_algebra_part1_files/logo.png) no-repeat 0 50%;
      -webkit-background-size: 30px 30px;
      -moz-background-size: 30px 30px;
      -o-background-size: 30px 30px;
      background-size: 30px 30px;
      padding-left: 40px;
      height: 30px;
      line-height: 1.9;
    }
  </style>

  <link rel="stylesheet" href="assets/my_styles.css" type="text/css" />

</head>

<body style="opacity: 0">

<slides class="layout-widescreen">

  <slide class="title-slide segue nobackground">
        <aside class="gdbar"><img src="06_intro_to_linear_algebra_part1_files/logo.png"></aside>
        <!-- The content of this hgroup is replaced programmatically through the slide_config.json. -->
    <hgroup class="auto-fadein">
      <h1 data-config-title><!-- populated from slide_config.json --></h1>
      
      <p data-config-presenter><!-- populated from slide_config.json --></p>
          </hgroup>
  </slide>

<slide class=""><hgroup><h2>Вы сможете</h2></hgroup><article  id="вы-сможете">

<ul>
<li>Объяснить что такое матрицы и какие бывают их основные разновидности</li>
<li>Выполнить базовые операции с матрицами с использованием функций R</li>
<li>Применить в среде R методы линейной алгебры для решения простейших задач</li>
</ul>

</article></slide><slide class="segue dark nobackground level1"><hgroup class = 'auto-fadein'><h2>Level 1: Немного повторения: <em>Зоопарк матричных объектов</em></h2></hgroup><article  id="level-1-немного-повторения-зоопарк-матричных-объектов">

</article></slide><slide class=""><hgroup><h2>Матричные объекты</h2></hgroup><article  id="матричные-объекты">

<ul>
<li>Есть много типов объектов, для которых такое выражение оказывается наиболее естественным (изображения, описания многомерных объектов и т.д.)</li>
<li>В матрицах, как и в обычных числах, скрыта информация, которую можно извлекать и преобразовывать по определенным правилам</li>
</ul>

</article></slide><slide class=""><hgroup><h2>Структура матриц</h2></hgroup><article  id="структура-матриц">

<p>\[\begin{pmatrix}
a_{11} &amp; a_{12} &amp; \cdots &amp; a_{1c} \\
a_{21} &amp; a_{22} &amp; \cdots &amp; a_{2c} \\    
\vdots &amp; \vdots &amp; \ddots &amp; \vdots \\
a_{r1} &amp; a_{r2} &amp; \cdots &amp; a_{rc}
\end{pmatrix}
    \]</p>

<p>Размер (порядок) матрицы \(r \times c\)</p>

</article></slide><slide class=""><hgroup><h2>Разновидности матриц</h2></hgroup><article  id="разновидности-матриц">

<p>\[ 
\textbf {a} =
\begin{pmatrix}
1 &amp; 2 &amp; 3 
\end{pmatrix}
\] Вектор-строка (Row matrix)</p>

<p>\[ 
\textbf {b} =
\begin{pmatrix}
1 \\
4 \\    
7 \\
10 
\end{pmatrix}
\] Вектор-столбец (column matrix)</p>

</article></slide><slide class=""><hgroup><h2>Разновидности матриц</h2></hgroup><article  id="разновидности-матриц-1">

<p>\[ 
\textbf {C} =
\begin{pmatrix}
1 &amp; 2 &amp; 3 \\
4 &amp; 5 &amp; 6 \\    
7 &amp; 8 &amp; 9 \\
10 &amp; 11 &amp; 12 
\end{pmatrix}
\]</p>

<p>\[ 
\textbf {D} =
\begin{pmatrix}
1 &amp; 2 &amp; 3 \\
4 &amp; 5 &amp; 6     
\end{pmatrix}
\]</p>

<blockquote>
<p>Прямоугольные матрицы (rectangular matrices)</p>
</blockquote>

<blockquote>
<p>В таком виде обычно представляются исходные данные при многомерном анализе.</p>
</blockquote>

<p>В такой матрице столбцы - признаки (p), а строки - объекты (n).</p>

<p>Лучше, когда n &gt; p, то есть когда объектов больше, чем признаков.</p>

</article></slide><slide class=""><hgroup><h2>Квадратные матрицы (square matrices)</h2></hgroup><article  id="квадратные-матрицы-square-matrices" class="smaller">

<p>Это наиболее &ldquo;операбельные&rdquo; матрицы</p>

<p>\[ 
\textbf {E} =
\begin{pmatrix}
1 &amp; 2 &amp; 3 \\
4 &amp; 5 &amp; 6 \\    
7 &amp; 8 &amp; 9 
\end{pmatrix}
\]</p>

<p>Диагональные матрицы (diagonal matrix)</p>

<p>\[ 
\textbf {F} =
\begin{pmatrix}
1 &amp; 0 &amp; 0 &amp; 0 \\
0 &amp; 5 &amp; 0 &amp; 0 \\    
0 &amp; 0 &amp; 9 &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 1
\end{pmatrix}
\]</p>

</article></slide><slide class=""><hgroup><h2>Квадратные матрицы (square matrices)</h2></hgroup><article  id="квадратные-матрицы-square-matrices-1" class="smaller">

<p>Треугольные матрицы (triangular matrices)</p>

<p>\[ 
\textbf {H} =
\begin{pmatrix}
1 &amp; 2 &amp; 3 &amp; 4 \\
0 &amp; 5 &amp; 6 &amp; 7 \\    
0 &amp; 0 &amp; 9 &amp; 10 \\
0 &amp; 0 &amp; 0 &amp; 1
\end{pmatrix}
\]</p>

<p>или</p>

<p>\[ 
\textbf {H} =
\begin{pmatrix}
1 &amp; 0 &amp; 0 &amp; 0 \\
3 &amp; 5 &amp; 0 &amp; 0 \\    
4 &amp; 7 &amp; 9 &amp; 0 \\
5 &amp; 8 &amp; 10 &amp; 11
\end{pmatrix}
\]</p>

</article></slide><slide class=""><hgroup><h2>Квадратные матрицы (square matrices)</h2></hgroup><article  id="квадратные-матрицы-square-matrices-2" class="smaller">

<p>Единичная матрица (identity matrix)</p>

<p>\[ 
\textbf {I} =
\begin{pmatrix}
1 &amp; 0 &amp; 0 &amp; 0 \\
0 &amp; 1 &amp; 0 &amp; 0 \\    
0 &amp; 0 &amp; 1 &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 1
\end{pmatrix}
\]</p>

<p>Единичная матрица (обозначение \(\textbf{I}\)) занимают особое место в матричной алгебре.<br/>Она выполняет ту же роль, которую выполняет единица в обычной алгебре.</p>

</article></slide><slide class=""><hgroup><h2>Матрицы ассоциации</h2></hgroup><article  id="матрицы-ассоциации">

<p>Изначально результаты исследования имеют вид исходной матрицы (обычно прямоугольной)</p>

<p>\[ 
\textbf{Y} = [n_{objects} \times p_{descriptors}]
\]</p>

<p>Информация из этой матрицы конденсируется в двух других матрицах</p>

<p>Q анализ</p>

<p>\[ 
\textbf{A}_{nn} = [n_{objects} \times n_{objects}]
\]</p>

<p>R анализ</p>

<p>\[ 
\textbf{A}_{pp} = [p_{descriptors} \times p_{descriptors}]
\]</p>

</article></slide><slide class=""><hgroup><h2>Матрицы ассоциации</h2></hgroup><article  id="матрицы-ассоциации-1">

<p>Это симметричные квадратные матрицы</p>

<p>\[ 
\textbf{A}_{pp} =  
\begin{pmatrix}
a_{11} &amp; a_{12} &amp; \cdots &amp; a_{1p} \\
a_{21} &amp; a_{22} &amp; \cdots &amp; a_{2p} \\    
\vdots &amp; \vdots &amp; \ddots &amp; \vdots \\
a_{p1} &amp; a_{p2} &amp; \cdots &amp; a_{pp}
\end{pmatrix}
\]</p>

<p>В этой матрице \(a_{ij} = a_{ji}\)</p>

<p>Большинство многомерных методов имеет дело именно с такими матрицами</p>

</article></slide><slide class=""><hgroup><h2>Особенность квадратных матриц</h2></hgroup><article  id="особенность-квадратных-матриц">

<p>Для квадратных матриц могут быть найдены (но не обязательно существуют) некоторые важные для линейной алгебры показатели: <em>определитель</em>, <em>инверсия</em>, <em>собственные значения</em> и <em>собственные векторы</em></p>

</article></slide><slide class=""><hgroup><h2>Задание</h2></hgroup><article  id="задание">

<p>Создайте с помощью R следующие матрицы</p>

<pre >##      [,1] [,2] [,3]
## [1,]    1    5    9
## [2,]    2    6   10
## [3,]    3    7   11
## [4,]    4    8   12</pre>

<pre >##      [,1] [,2] [,3] [,4] [,5]
## [1,]    1    0    0    0    0
## [2,]    0    2    0    0    0
## [3,]    0    0    3    0    0
## [4,]    0    0    0    4    0
## [5,]    0    0    0    0    5</pre>

</article></slide><slide class="segue dark nobackground level1"><hgroup class = 'auto-fadein'><h2>Level 2: Еще немного повторения: <em>Простейшие операции с матричными объектами</em></h2></hgroup><article  id="level-2-еще-немного-повторения-простейшие-операции-с-матричными-объектами">

</article></slide><slide class=""><hgroup><h2>Транспонирование матриц</h2></hgroup><article  id="транспонирование-матриц">

<pre class = 'prettyprint lang-r'>A &lt;- matrix(1:12, ncol = 3)
A</pre>

<pre >##      [,1] [,2] [,3]
## [1,]    1    5    9
## [2,]    2    6   10
## [3,]    3    7   11
## [4,]    4    8   12</pre>

<p>Транспонированная матрица \(\textbf{B} = \textbf{A}&#39;\) синонимичная запись \(\textbf{B} = \textbf{A}^{T}\)</p>

<pre class = 'prettyprint lang-r'>B &lt;- t(A)
B</pre>

<pre >##      [,1] [,2] [,3] [,4]
## [1,]    1    2    3    4
## [2,]    5    6    7    8
## [3,]    9   10   11   12</pre>

</article></slide><slide class=""><hgroup><h2>Сложение матриц</h2></hgroup><article  id="сложение-матриц">

<pre class = 'prettyprint lang-r'>A + 4</pre>

<pre >##      [,1] [,2] [,3]
## [1,]    5    9   13
## [2,]    6   10   14
## [3,]    7   11   15
## [4,]    8   12   16</pre>

<pre class = 'prettyprint lang-r'>A + A</pre>

<pre >##      [,1] [,2] [,3]
## [1,]    2   10   18
## [2,]    4   12   20
## [3,]    6   14   22
## [4,]    8   16   24</pre>

<p>Но! Нельзя складывать матрицы разных размеров</p>

<pre class = 'prettyprint lang-r'>A + B</pre>

</article></slide><slide class=""><hgroup><h2>Простое умножение</h2></hgroup><article  id="простое-умножение">

<p>Умножение на число</p>

<pre class = 'prettyprint lang-r'>A * 4</pre>

<pre >##      [,1] [,2] [,3]
## [1,]    4   20   36
## [2,]    8   24   40
## [3,]   12   28   44
## [4,]   16   32   48</pre>

<p>Простое умножение матрицы на вектор возможно только если число элементов в векторе равно числу строк в матрице</p>

<pre class = 'prettyprint lang-r'>A * c(10, 11, 12, 13)</pre>

<pre >##      [,1] [,2] [,3]
## [1,]   10   50   90
## [2,]   22   66  110
## [3,]   36   84  132
## [4,]   52  104  156</pre>

<p>Все элементы первой строки матрицы умножаются на первый элемент вектора, все элементы второй строки на второй элемент вектора и т.д.</p>

</article></slide><slide class="segue dark nobackground level1"><hgroup class = 'auto-fadein'><h2>Level 3: Векторы и их геометрическая интерпретация</h2></hgroup><article  id="level-3-векторы-и-их-геометрическая-интерпретация">

</article></slide><slide class=""><hgroup><h2>Вектор в языке R</h2></hgroup><article  id="вектор-в-языке-r">

<p>Мы уже привыкли, что в языке R все основано на векторных операциях.</p>

<p>Вектор – это последовательность чисел: \((x_1, x_2, ..., x_n)\).</p>

<p>Примеры векторов</p>

<pre class = 'prettyprint lang-r'>seq(1, 10, 2)</pre>

<pre >## [1] 1 3 5 7 9</pre>

<pre class = 'prettyprint lang-r'>rnorm(10, 0, 1)</pre>

<pre >##  [1] -0.5738  0.1819  1.7556 -0.0135  1.2913 -1.3955  0.0167 -2.1227
##  [9] -1.3702 -0.1505</pre>

<p>НО! Почему одно число тоже вектор?</p>

<pre class = 'prettyprint lang-r'>runif(1)</pre>

<pre >## [1] 0.618</pre>

</article></slide><slide class=""><hgroup><h2>Почему одно число - это тоже вектор?</h2></hgroup><article  id="почему-одно-число---это-тоже-вектор" class="columns-2 smaller">

<p>У матричных объектов есть геометрическая интерпретация.</p>

<p>Пусть у нас есть одно единственное число, например, &ldquo;10&rdquo;.</p>

<p>Его можно представить, как точку на числовой оси.</p>

<p><img src="06_intro_to_linear_algebra_part1_files/figure-html/unnamed-chunk-14-1.png" width="384" style="display: block; margin: auto;" /></p>

<p>Но! Это же самое число можно представить в виде вектора, направленного отрезка, идущего от точки &ldquo;0&rdquo; к точке &ldquo;10&rdquo;</p>

<p><img src="06_intro_to_linear_algebra_part1_files/figure-html/unnamed-chunk-15-1.png" width="384" style="display: block; margin: auto;" /></p>

</article></slide><slide class=""><hgroup><h2>Интерпретация вектора</h2></hgroup><article  id="интерпретация-вектора" class="columns-2 smaller">

<p>Геометрической интерпретацией вектора является направленный отрезок в n-мерном пространстве с началом в точке \((0, 0 .... 0)\).</p>

<p>Если в векторе всего два числа, то это направленный отрезок на плоскости.</p>

<p>Пример: <code>vec = (1, 5)</code></p>

<p><img src="06_intro_to_linear_algebra_part1_files/figure-html/unnamed-chunk-16-1.png" width="384" style="display: block; margin: auto;" /></p>

</article></slide><slide class=""><hgroup><h2>Длина вектора, геометрическая итерпретаця</h2></hgroup><article  id="длина-вектора-геометрическая-итерпретаця">

<p><img src="06_intro_to_linear_algebra_part1_files/figure-html/unnamed-chunk-17-1.png" width="672" style="display: block; margin: auto;" /></p>

<p>По теореме Пифагора</p>

<p>\[
R = \sqrt{b_1^2 + b_2^2}
\]</p>

</article></slide><slide class=""><hgroup><h2>Длина вектора в матричной алгебре</h2></hgroup><article  id="длина-вектора-в-матричной-алгебре">

<p>Пусть есть вектор: \(\textbf{b} = b_1, b_2, \dots, b_n\)</p>

<p>Длина вектора, или норма вектора</p>

<p>\[
||\textbf{b}|| = \sqrt{b_1^2 + b_2^2 + \dots + b_n^2}
\]</p>

<p>Длина вектора</p>

<pre class = 'prettyprint lang-r'>Vec &lt;- 1:5

sqrt(sum(Vec^2))</pre>

<pre >## [1] 7.42</pre>

<pre class = 'prettyprint lang-r'>norm(t(Vec), type = &quot;F&quot;) #Аналогчное решение</pre>

<pre >## [1] 7.42</pre>

</article></slide><slide class=""><hgroup><h2>Скалярное произведение векторов</h2></hgroup><article  id="скалярное-произведение-векторов">

<p>Допустимо только для векторов одинаковой размерности</p>

<p>\[
\textbf{a} \cdot \textbf{b} =  
\begin{pmatrix}
a_1 \\
a_3 \\    
a_4 \\
a_5 \\
a_6 \\
a_7
\end{pmatrix}
\times
\begin{pmatrix}
b_1 &amp;
b_3 &amp;    
b_4 &amp;
b_5 &amp;
b_6 &amp;
b_7
\end{pmatrix}
= a_1b_1 + a_2b_2 + ... + a_7b_7 = x
\]</p>

<p>Это базовая операция для истинного матричного умножения.</p>

<p>Результат этой операции - число (скаляр)</p>

</article></slide><slide class=""><hgroup><h2>Как это работает?</h2></hgroup><article  id="как-это-работает">

<h3>Бытовой пример</h3>

<p>В доме есть следующие электроприборы.</p>

<table class = 'rmdtable'>
<tr class="header">
<th align="left">Электроприбор</th>
<th align="left">Количество</th>
<th align="left">Мощность (Вт)</th>
</tr>
<tr class="odd">
<td align="left">Чайник</td>
<td align="left">2 шт</td>
<td align="left">1200</td>
</tr>
<tr class="even">
<td align="left">Обогреватели</td>
<td align="left">3 шт.</td>
<td align="left">1300</td>
</tr>
<tr class="odd">
<td align="left">Осушитель</td>
<td align="left">1 шт.</td>
<td align="left">1100</td>
</tr>
<tr class="even">
<td align="left">Стиральная машина</td>
<td align="left">1 шт.</td>
<td align="left">1500</td>
</tr>
<tr class="odd">
<td align="left">Фен</td>
<td align="left">2 шт.</td>
<td align="left">800</td>
</tr>
</table>

<p>Вопрос: Какова будет суммарная мощность всех электроприборов, если их включить одновременно?</p>

</article></slide><slide class=""><hgroup><h2>Решение</h2></hgroup><article  id="решение">

<pre class = 'prettyprint lang-r'>a &lt;- c(2, 3, 1, 1, 2)
b &lt;- c(1200, 1300, 1100, 1500, 800)

a %*% b</pre>

<pre >##       [,1]
## [1,] 10500</pre>

</article></slide><slide class=""><hgroup><h2>Геометрическая интерпретация скалярного произведения векторов</h2></hgroup><article  id="геометрическая-интерпретация-скалярного-произведения-векторов" class="smaller">

<p>Скалярное произведение равно произведению длин векторов на \(cos\) угла между ними</p>

<p>\[
\textbf{a} \cdot \textbf{b} =  ||\textbf{a}|| \times ||\textbf{b}|| \times \cos(\alpha)
\]</p>

<p>Пусть у нас есть два вектора: \(\textbf{a} = 1, 5\) и \(\textbf{b} = 0.25, 4\)</p>

<p><img src="06_intro_to_linear_algebra_part1_files/figure-html/unnamed-chunk-20-1.png" width="672" style="display: block; margin: auto;" /></p>

</article></slide><slide class=""><hgroup><h2>Ортогониальные векторы</h2></hgroup><article  id="ортогониальные-векторы">

<p>Если угол между векторами равен 90 градусов, то такие векторы называются ортогональными.</p>

<p>У таких векторов скалярное произведение \(\textbf{a} \cdot \textbf{b} = 0\)</p>

</article></slide><slide class=""><hgroup><h2>Задание</h2></hgroup><article  id="задание-1">

<p>Выясните, являются ли ортогональными следующие векторы?</p>

<pre class = 'prettyprint lang-r'>a &lt;- c(0, 1)
b &lt;- c(1, 0)
c &lt;- c(1, 1)
d &lt;- c(1, -1)</pre>

</article></slide><slide class=""><hgroup><h2>Решение</h2></hgroup><article  id="решение-1" class="smaller columns-2">

<p>Аналитическое решение</p>

<pre class = 'prettyprint lang-r'>(a) %*% (b) #Ортогональны</pre>

<pre >##      [,1]
## [1,]    0</pre>

<pre class = 'prettyprint lang-r'>(c) %*% (a) #Неортогональны</pre>

<pre >##      [,1]
## [1,]    1</pre>

<pre class = 'prettyprint lang-r'>(c) %*% (b) #Неортогональны</pre>

<pre >##      [,1]
## [1,]    1</pre>

<pre class = 'prettyprint lang-r'>(d) %*% (c) #Ортогональны</pre>

<pre >##      [,1]
## [1,]    0</pre>

<pre class = 'prettyprint lang-r'>(c) %*% (a) #неортогональны</pre>

<pre >##      [,1]
## [1,]    1</pre>

<pre class = 'prettyprint lang-r'>(b) %*% (d) #неортогональны</pre>

<pre >##      [,1]
## [1,]    1</pre>

<p>Геометрическое решение <img src="06_intro_to_linear_algebra_part1_files/figure-html/unnamed-chunk-23-1.png" width="672" style="display: block; margin: auto;" /></p>

</article></slide><slide class=""><hgroup><h2>Угол между векторами</h2></hgroup><article  id="угол-между-векторами">

<p>Пусть, векторы отражают признаки объектов.<br/>Что характеризует угол между векторами?</p>

<pre >##     Object1 Object2
## Tr1     0.5     0.5
## Tr2     0.0     3.0</pre>

<p><img src="06_intro_to_linear_algebra_part1_files/figure-html/unnamed-chunk-24-1.png" width="672" style="display: block; margin: auto;" /></p>

</article></slide><slide class=""><hgroup><h2>Угол между векторами</h2></hgroup><article  id="угол-между-векторами-1">

<h3>Длина векторов</h3>

<pre class = 'prettyprint lang-r'>norm(t(Dat[ ,1 ]), type = &quot;F&quot;) #Длина вектора Tr1 </pre>

<pre >## [1] 0.707</pre>

<pre class = 'prettyprint lang-r'>norm(t(Dat[ , 2]), type = &quot;F&quot;) #Длина вектора Tr2</pre>

<pre >## [1] 3</pre>

</article></slide><slide class=""><hgroup><h2>Угол между векторами</h2></hgroup><article  id="угол-между-векторами-2">

<p>Если</p>

<p>\[
\textbf{a} \cdot \textbf{b} =  ||\textbf{a}|| \times ||\textbf{b}|| \times \cos(\alpha)
\]</p>

<p>то</p>

<p>\[
\cos(\alpha) = \frac{\textbf{a} \cdot \textbf{b}} {||\textbf{a}|| \times ||\textbf{b}||}
\]</p>

<pre class = 'prettyprint lang-r'>cos_a &lt;- (Dat[, 1] %*% Dat[, 2])/(norm(t(Dat[, 1]), type = &quot;F&quot;) * 
                                    norm(t(Dat[, 2]), type = &quot;F&quot;))

cos_a</pre>

<pre >##       [,1]
## [1,] 0.707</pre>

<p>Угол между векторами - мера сонаправленности векторов…</p>

</article></slide><slide class=""><hgroup><h2>Интерпретация угла между векторами</h2></hgroup><article  id="интерпретация-угла-между-векторами" class="smaller columns-2">

<p><img src="06_intro_to_linear_algebra_part1_files/figure-html/unnamed-chunk-27-1.png" width="384" style="display: block; margin: auto;" /></p>

<p>\[
\cos(\alpha) = \frac{\textbf{a} \cdot \textbf{b}}{||\textbf{a}|| \times ||\textbf{b}||}  = ?     
\]</p>

<pre class = 'prettyprint lang-r'>vec_a &lt;- c(1, 5)
vec_b &lt;- c(0.25, 4)

cos_alpha &lt;- vec_a %*% vec_b / (norm(t(vec_a), type = &quot;F&quot;) * norm(t(vec_b), type = &quot;F&quot;)) 

cos_alpha</pre>

<pre >##       [,1]
## [1,] 0.991</pre>

</article></slide><slide class=""><hgroup><h2>Интерпретация угла между векторами</h2></hgroup><article  id="интерпретация-угла-между-векторами-1" class="smaller columns-2">

<p><img src="06_intro_to_linear_algebra_part1_files/figure-html/unnamed-chunk-29-1.png" width="384" style="display: block; margin: auto;" /></p>

<p>\[
\cos(\alpha) = \frac{\textbf{a} \cdot \textbf{b}}{||\textbf{a}|| \times ||\textbf{b}||}  = \frac{a_x \cdot b_x+a_y \cdot b_y}{\sqrt {a_x^2 + a_y^2} \times \sqrt {b_x^2 + b_y^2}}     
\]</p>

</article></slide><slide class=""><hgroup><h2>Интерпретация угла между векторами</h2></hgroup><article  id="интерпретация-угла-между-векторами-2" class="smaller columns-2">

<p>Если вектор трехмерный</p>

<p>\[
\cos(\alpha) = \frac{\textbf{a} \cdot \textbf{b}}{||\textbf{a}|| \times ||\textbf{b}||}  = \frac{a_x \cdot b_x + a_y \cdot b_y + a_z \cdot b_z }  {\sqrt {a_x^2 + a_y^2 + a_z^2} \times \sqrt {b_x^2 + b_y^2 + b_z^2}}     
\]</p>

</article></slide><slide class=""><hgroup><h2>Интерпретация угла между векторами</h2></hgroup><article  id="интерпретация-угла-между-векторами-3">

<p>Если вектор n-мерный</p>

<p>\[
\cos(\alpha) = \frac{\textbf{a} \cdot \textbf{b}}{||\textbf{a}|| \times ||\textbf{b}||}  = \frac{\Sigma{(a_i\cdot b_i)}}  {\sqrt {\Sigma{a_i^2}} \times \sqrt {\Sigma{b_i^2}}}     
\] Ничего не напоминает?</p>

</article></slide><slide class=""><hgroup><h2>Интерпретация угла между векторами</h2></hgroup><article  id="интерпретация-угла-между-векторами-4">

<p>За точку отсчета взято начало координат, т.е. точка с координатами \(0, 0, \dots, 0\), тогда</p>

<p>\[
\cos(\alpha) = \frac{\textbf{a} \cdot \textbf{b}}{||\textbf{a}|| \times ||\textbf{b}||}  = \frac{\Sigma{((a_i-0)\cdot (b_i - 0))}}  {\sqrt {\Sigma{(a_i-0)^2}} \times \sqrt {\Sigma{(b_i-0)^2}}}     
\] Ничего не напоминает?</p>

</article></slide><slide class=""><hgroup><h2>Интерпретация угла между векторами</h2></hgroup><article  id="интерпретация-угла-между-векторами-5">

<p>\[
r_{x,y} = \frac{\sum(x_i-\bar{x})(y_i-\bar{y})} {\sqrt{\sum(x_i-\bar{x})^2}\sqrt{\sum(y_i-\bar{y})^2}} = \frac{cov_{x,y}} {\sigma_x \sigma_y}
\]</p>

<p>Ключевая разница - это наличие вот этих элементов в формуле: \(x_i-\bar{x}\) и \(y_i-\bar{y}\)</p>

<p>Как называется действие, которое описывается такими формулами?</p>

</article></slide><slide class=""><hgroup><h2>Интерпретация угла между векторами</h2></hgroup><article  id="интерпретация-угла-между-векторами-6">

<p>\[
r_{x,y} = \frac{\sum(x_i-\bar{x})(y_i-\bar{y})} {\sqrt{\sum(x_i-\bar{x})^2}\sqrt{\sum(y_i-\bar{y})^2}} = \frac{cov_{x,y}} {\sigma_x \sigma_y}
\]</p>

<p>Ключевая разница - это наличие вот этих элементов в формуле: \(x_i-\bar{x}\) и \(y_i-\bar{y}\)</p>

<p>Как называется действие, которое описывается такими формулами?</p>

<p>Это <strong>центрирование</strong>! Перевод начала координат в точку с координатами равными средним значениям векторов. Такая точка называется <strong>центроидом</strong>.</p>

</article></slide><slide class=""><hgroup><h2>Вычисление косинуса угла между векторами</h2></hgroup><article  id="вычисление-косинуса-угла-между-векторами" class="smaller columns-2">

<pre class = 'prettyprint lang-r'>vectors &lt;- data.frame(a = c(1, 5), b = c(0.25, 4), c = c(-3, 0))
vectors</pre>

<pre >##   a    b  c
## 1 1 0.25 -3
## 2 5 4.00  0</pre>

<p><img src="06_intro_to_linear_algebra_part1_files/figure-html/unnamed-chunk-31-1.png" width="384" style="display: block; margin: auto;" /></p>

<pre class = 'prettyprint lang-r'>with(vectors, a %*% b/(norm(t(a), type = &quot;F&quot;) * norm(t(b), type = &quot;F&quot;)) )</pre>

<pre >##       [,1]
## [1,] 0.991</pre>

<pre class = 'prettyprint lang-r'>with(vectors, a %*% c/(norm(t(a), type = &quot;F&quot;) * norm(t(c), type = &quot;F&quot;)) )</pre>

<pre >##        [,1]
## [1,] -0.196</pre>

<pre class = 'prettyprint lang-r'>with(vectors, b %*% c/(norm(t(b), type = &quot;F&quot;) * norm(t(c), type = &quot;F&quot;)) )</pre>

<pre >##         [,1]
## [1,] -0.0624</pre>

</article></slide><slide class=""><hgroup><h2>Коэффициент корреляции и косинус угла между векторами</h2></hgroup><article  id="коэффициент-корреляции-и-косинус-угла-между-векторами" class="smaller columns-2">

<p>Пусть есть два вектора в 100-мерном пространстве</p>

<pre class = 'prettyprint lang-r'>set.seed(12345)
vec_1 &lt;- rnorm(100, 10, 1)
vec_2 &lt;- -10*vec_1 + 10 + rnorm(100, 0, 10)</pre>

<p>Коэффициент корреляции</p>

<pre class = 'prettyprint lang-r'>cor(vec_1, vec_2)</pre>

<pre >## [1] -0.708</pre>

<p>Косинус угла в 100-мерном пространстве</p>

<pre class = 'prettyprint lang-r'># Центрированные векторы
vec_1_c &lt;- as.vector(scale(vec_1, 
                           center = T, scale = F))
vec_2_c &lt;- as.vector(scale(vec_2, 
                           center = T, scale = F))

cos_alpha &lt;- (vec_1_c %*% vec_2_c)/
  (norm(t(vec_1_c), type = &quot;F&quot;)*
     norm(t(vec_2_c), type = &quot;F&quot;))

cos_alpha</pre>

<pre >##        [,1]
## [1,] -0.708</pre>

</article></slide><slide class=""><hgroup><h2>Нормализованные векторы</h2></hgroup><article  id="нормализованные-векторы">

<p>Для многомерных методов важны взаимоотношения векторов, а не их истинные длины.</p>

<p>Для приведения векторов к соизмеримости проводят их <em>нормализацию</em>.</p>

<p>\[
\textbf{c} = \frac{\textbf{b}} {||\textbf{b}||}
\]</p>

</article></slide><slide class=""><hgroup><h2>Задание</h2></hgroup><article  id="задание-2">

<p>Найдите нормализованный вектор для следующего вектора и определите его длину</p>

<pre class = 'prettyprint lang-r'>Vec &lt;- 1:5
Vec</pre>

<pre >## [1] 1 2 3 4 5</pre>

</article></slide><slide class=""><hgroup><h2>Решение</h2></hgroup><article  id="решение-2">

<pre class = 'prettyprint lang-r'>normalized_Vec &lt;- Vec/norm(t(Vec), type = &quot;F&quot;)
normalized_Vec</pre>

<pre >## [1] 0.135 0.270 0.405 0.539 0.674</pre>

<p>Длина нормализованного вектора</p>

<pre class = 'prettyprint lang-r'>norm(t(normalized_Vec), type = &quot;F&quot;)</pre>

<pre >## [1] 1</pre>

<ul class = 'build'>
<li>Длина нормализованного вектора равна 1. Это важное свойство для многомерных методов.</li>
</ul>

</article></slide><slide class=""><hgroup><h2>Нормализованные векторы</h2></hgroup><article  id="нормализованные-векторы-1" class="smaller columns-2">

<p>Исходные данные</p>

<pre >##     Object1 Object2
## Tr1     0.5     0.5
## Tr2     0.0     3.0</pre>

<p>Нормализованные данные</p>

<pre >##     Object1 Object2
## Tr1   0.707   0.707
## Tr2   0.000   1.000</pre>

<p><img src="06_intro_to_linear_algebra_part1_files/figure-html/unnamed-chunk-40-1.png" width="672" style="display: block; margin: auto;" /></p>

<p>Характер взаимосвязи между нормализованными векторами такой же, как и у исходных векторов.</p>

<p>После нормализации, можно пренебречь разницами длин векторов.</p>

</article></slide><slide class="segue dark nobackground level1"><hgroup class = 'auto-fadein'><h2>Level 4: Еще немного повторения: <em>Операции с матрицами</em></h2></hgroup><article  id="level-4-еще-немного-повторения-операции-с-матрицами">

</article></slide><slide class=""><hgroup><h2>Матричное умножение матрицы на вектор</h2></hgroup><article  id="матричное-умножение-матрицы-на-вектор" class="smaller columns-2">

<p>\[
\mathbf{A} \times \mathbf{a}
\]</p>

<p>Умножать можно только в том случае, если число столбцов в матрице равно количеству чисел в векторе.</p>

<p>Пусть, есть матрица \(\mathbf{A}\)</p>

<pre >##      [,1] [,2] [,3]
## [1,]    1    5    9
## [2,]    2    6   10
## [3,]    3    7   11
## [4,]    4    8   12</pre>

<p><br></p>

<p><br></p>

<p><br></p>

<p><br></p>

<pre class = 'prettyprint lang-r'>A %*% c(10, 10, 10)</pre>

<pre >##      [,1]
## [1,]  150
## [2,]  180
## [3,]  210
## [4,]  240</pre>

<ul>
<li>Первое число итогового вектора - скалярное произведение первой строки \(\mathbf{A}\) на вектор \(\mathbf{a}\)<br/></li>
<li>Второе число - скалярное произведение второй строки \(\mathbf{A}\) на вектор \(\mathbf{a}\)<br/>и т.д.</li>
</ul>

<p>Но! если поменять местами множители, то будет ошибка</p>

<pre class = 'prettyprint lang-r'>c(10, 10, 10) %*% A</pre>

<pre >## Error in c(10, 10, 10) %*% A: неподобные аргументы</pre>

</article></slide><slide class=""><hgroup><h2>Матричное умножение вектора на матрицу</h2></hgroup><article  id="матричное-умножение-вектора-на-матрицу">

<p>\[
\mathbf{a} \times  \mathbf{A}
\]</p>

<p>Умножать можно только в том случае, если количество чисел в векторе равно количеству строк в матрице.</p>

<pre class = 'prettyprint lang-r'>c(10, 10, 10, 10) %*% A</pre>

<pre >##      [,1] [,2] [,3]
## [1,]  100  260  420</pre>

<p>Но! если поменять местами множители, то будет ошибка</p>

<pre class = 'prettyprint lang-r'>A %*% c(10, 10, 10, 10)</pre>

<pre >## Error in A %*% c(10, 10, 10, 10): неподобные аргументы</pre>

</article></slide><slide class=""><hgroup><h2>Умножение матриц</h2></hgroup><article  id="умножение-матриц" class="smaller columns-2">

<p>Умножать можно только в том случае, если число колонок в первой матрице равно числу строк второй матрицы: \(\mathbf{A} \times \mathbf{B}\)</p>

<p>Пусть, есть матрица \(\mathbf{A}\)</p>

<pre >##      [,1] [,2] [,3]
## [1,]    1    5    9
## [2,]    2    6   10
## [3,]    3    7   11
## [4,]    4    8   12</pre>

<p>и матрица \(\mathbf{B}\)</p>

<pre >##      [,1] [,2] [,3] [,4]
## [1,]    1    2    3    4
## [2,]    5    6    7    8
## [3,]    9   10   11   12</pre>

<p><br></p>

<pre class = 'prettyprint lang-r'>A %*% B</pre>

<pre >##      [,1] [,2] [,3] [,4]
## [1,]  107  122  137  152
## [2,]  122  140  158  176
## [3,]  137  158  179  200
## [4,]  152  176  200  224</pre>

<p>НО! Нельзя произвести такое умножение</p>

<pre class = 'prettyprint lang-r'>A %*% A</pre>

<pre >## Error in A %*% A: неподобные аргументы</pre>

</article></slide><slide class=""><hgroup><h2>Схема умножения матриц</h2></hgroup><article  id="схема-умножения-матриц">

<p>\[
\begin{pmatrix}
A &amp; B  \\
C &amp; D \\
\end{pmatrix}
\times
\begin{pmatrix}
E &amp; F \\ G &amp; H\\ 
\end{pmatrix}
=
\begin{pmatrix}
(A \cdot E + B \cdot G)  &amp; (A \cdot F + B \cdot H ) \\ (C \cdot E + D \cdot G)  &amp; (C \cdot F + D \cdot H)  \\
\end{pmatrix}
\]</p>

<!-- ## Некоторые свойства произведения матриц {.smaller .columns-2} -->

<!-- Если существует произведение матриц $\textbf{BC}$, то не обязательно существует $\textbf{CB}$ -->

<!-- ```{r, purl=TRUE} -->

<!-- B <- matrix(1:24, ncol = 4) -->

<!-- B -->

<!-- C <- matrix(1:12, ncol = 3) -->

<!-- C -->

<!-- B %*% C -->

<!-- ``` -->

<!-- HO!  -->

<!-- ```{r, error=TRUE, purl=TRUE} -->

<!-- C %*% B -->

<!-- ``` -->

<!-- ## Некоторые свойства произведения матриц -->

<!-- Всегда существует такое произведение матриц $\textbf{C}\textbf{C}'$ и $\textbf{C}'\textbf{C}$ -->

<!-- ```{r, purl=TRUE} -->

<!-- C %*% t(C) -->

<!-- ``` -->

<!-- ```{r, purl=TRUE} -->

<!-- t(C) %*% C -->

<!-- ``` -->

<!-- ## Некоторые свойства произведения матриц -->

<!-- Произведение матриц $\textbf{BC}$ как правило не равно $\textbf{CB}$ -->

<!-- ```{r, purl=TRUE} -->

<!-- B <- matrix(1:9, ncol = 3) -->

<!-- C <- matrix(11:19, ncol = 3) -->

<!-- B %*%  C -->

<!-- C %*% B -->

<!-- ``` -->

<!-- ## Некоторые свойства произведения матриц -->

<!-- $[\textbf{BC}]' = \textbf{C}'\textbf{B}'$ -->

<!-- ```{r, purl=TRUE} -->

<!-- t(B %*% C) -->

<!-- ``` -->

<!-- ```{r, purl=TRUE} -->

<!-- t(C) %*% t(B) -->

<!-- ``` -->

<!-- ## Некоторые свойства произведения матриц -->

<!-- Произведение $\textbf{B}\textbf{B}'$ и $\textbf{B}'\textbf{B}$ всегда дает симметричную матрицу  -->

<!-- ```{r, purl=TRUE} -->

<!-- B %*% t(B) -->

<!-- ``` -->

<!-- ```{r, purl=TRUE} -->

<!-- t(B) %*% B -->

<!-- ``` -->

<!-- ## Как это работает?  {.smaller .columns-2} -->

<!-- ### Бытовой пример -->

<!-- Представим себе, что вы решили купить четыре товара, по следующим ценам  -->

<!-- Товар | Цена     -->

<!-- ------|-----     -->

<!-- Товар 1 | 10     -->

<!-- Товар 2 | 20     -->

<!-- Товар 3 | 30    -->

<!-- Товар 4 | 40     -->

<!-- Прямых выходов на продавца у вас нет, но есть три посредника, которые выставляют следующие "накрутки" цен.  -->

<!-- Посредники  | Товар 1 | Товар 2 | Товар 3 | Товар 4  -->

<!-- ------------|---------|---------|---------|-------- -->

<!-- Посредник 1 | 0.1 | 0.15 | 0.05 | 0.05  -->

<!-- Посредник 2 | 0.15 | 0.15 | 0.09 | 0.01  -->

<!-- Посредник 3 | 0.2 | 0.05 | 0.1 | 0.1   -->

<!-- <br> -->

<!-- Какой из посредников выгоднее? -->

<!-- ## Решение -->

<!-- ```{r, purl=TRUE} -->

<!-- cost <- c(10, 20, 30, 40) -->

<!-- retailer <- matrix(c(0.1, 0.15, 0.05, 0.05,   -->

<!--                      0.15, 0.15, 0.09, 0.01,  -->

<!--                      0.2, 0.05, 0.1, 0.1 ), byrow = TRUE, ncol = 4) -->

<!-- retailer %*% cost   -->

<!-- ``` -->

</article></slide><slide class="segue dark nobackground level1"><hgroup class = 'auto-fadein'><h2>Level 5.Матрицы, как инструмент преобразования</h2></hgroup><article  id="level-5.матрицы-как-инструмент-преобразования">

</article></slide><slide class=""><hgroup><h2>Геометрическая интерпретация матрицы</h2></hgroup><article  id="геометрическая-интерпретация-матрицы" class="smaller columns-2">

<p>Вектор это направленный n-мерный отрезок.</p>

<pre class = 'prettyprint lang-r'>y = c(2,2,3,3,2,2,3,4,5,6,6,5,4,3,2)
x = c(2,3,4,5,6,7,7,7,6,5,4,3,2,2,2)</pre>

<p>Матрица - это система векторов</p>

<pre class = 'prettyprint lang-r'>cbind((x), (y))</pre>

<pre >##       [,1] [,2]
##  [1,]    2    2
##  [2,]    3    2
##  [3,]    4    3
##  [4,]    5    3
##  [5,]    6    2
##  [6,]    7    2
##  [7,]    7    3
##  [8,]    7    4
##  [9,]    6    5
## [10,]    5    6
## [11,]    4    6
## [12,]    3    5
## [13,]    2    4
## [14,]    2    3
## [15,]    2    2</pre>

<p>Два сцепленных 15-мерных вектора</p>

<p>и/или</p>

<p>15 сцепленных двумерных векторов.</p>

</article></slide><slide class=""><hgroup><h2>Геометрическая интерпретация матрицы</h2></hgroup><article  id="геометрическая-интерпретация-матрицы-1">

<p><strong>Интерпретация матрицы, вариант 1</strong></p>

<pre class = 'prettyprint lang-r'>Matr &lt;- as.data.frame(t(cbind((x), (y))))
Matr</pre>

<pre >##   V1 V2 V3 V4 V5 V6 V7 V8 V9 V10 V11 V12 V13 V14 V15
## 1  2  3  4  5  6  7  7  7  6   5   4   3   2   2   2
## 2  2  2  3  3  2  2  3  4  5   6   6   5   4   3   2</pre>

<p>Два вектора в 15-ти мерном пространстве</p>

<p>Изобразить на плоскости невозможно!</p>

</article></slide><slide class=""><hgroup><h2>Геометрическая интерпретация матрицы</h2></hgroup><article  id="геометрическая-интерпретация-матрицы-2" class="smaller columns-2">

<p><strong>Интерпретация матрицы, вариант 2</strong></p>

<pre class = 'prettyprint lang-r'>Image &lt;- cbind((x), (y))
Image</pre>

<pre >##       [,1] [,2]
##  [1,]    2    2
##  [2,]    3    2
##  [3,]    4    3
##  [4,]    5    3
##  [5,]    6    2
##  [6,]    7    2
##  [7,]    7    3
##  [8,]    7    4
##  [9,]    6    5
## [10,]    5    6
## [11,]    4    6
## [12,]    3    5
## [13,]    2    4
## [14,]    2    3
## [15,]    2    2</pre>

<p>15 векторов в двумерном пространстве</p>

<p><img src="06_intro_to_linear_algebra_part1_files/figure-html/unnamed-chunk-54-1.png" width="384" style="display: block; margin: auto;" /></p>

</article></slide><slide class=""><hgroup><h2>Геометрическая интерпретация матрицы</h2></hgroup><article  id="геометрическая-интерпретация-матрицы-3">

<p><strong>Интерпретация матрицы, вариант 2</strong></p>

<p>Аналогичное изображение</p>

<pre class = 'prettyprint lang-r'>qplot(Image[,1], Image[,2] ) + geom_polygon(fill = &quot;red&quot;) + coord_fixed()</pre>

<p><img src="06_intro_to_linear_algebra_part1_files/figure-html/unnamed-chunk-55-1.png" width="384" style="display: block; margin: auto;" /></p>

</article></slide><slide class=""><hgroup><h2>Матрицы позволяют преобразовывать системы векторов</h2></hgroup><article  id="матрицы-позволяют-преобразовывать-системы-векторов" class="smaller columns-2">

<p>Вращающая матрица \[
\textbf{Rot} = 
\begin{pmatrix}
\cos\phi &amp; -\sin \phi \\
\sin\phi &amp; \cos\phi
\end{pmatrix}
\]</p>

<p>Поворот изображения на заданный угол</p>

<p>\[
\textbf{Y}_{rot} = \textbf{Rot} \times \textbf{Y}
\]</p>

<pre class = 'prettyprint lang-r'>phi &lt;- 30  # Угол в градусах, 
# на который надо повернуть объект

angle &lt;- phi*pi/180 # Угол в радианах

# Вращающая матрица
Rot &lt;- matrix(c(cos(angle), sin(angle), 
                -sin(angle), cos(angle)), nrow = 2)


# Перобразованние исходной матрицы 
# с помощью вращающей матрицы

Image_trans &lt;-   t((Rot) %*% t(Image))     


qplot(Image_trans[,1], Image_trans[,2] ) + 
  geom_polygon(fill = &quot;red&quot;) + 
  coord_fixed()</pre>

<p><img src="06_intro_to_linear_algebra_part1_files/figure-html/unnamed-chunk-56-1.png" width="672" style="display: block; margin: auto;" /></p>

</article></slide><slide class=""><hgroup><h2>Матрицы позволяют преобразовывать системы векторов</h2></hgroup><article  id="матрицы-позволяют-преобразовывать-системы-векторов-1" class="smaller columns-2">

<p>Масштабирующая матрица \[
\textbf{Scale} = 
\begin{pmatrix}
a &amp; 0 \\
0 &amp; b
\end{pmatrix}
\]</p>

<p><br></p>

<p><br></p>

<p>\[
\textbf{Y}_{scaled} = \textbf{Scale} \times \textbf{Y}
\]</p>

<pre class = 'prettyprint lang-r'>Scale &lt;- matrix(c(1, 0, 0, 2), nrow = 2)

Image_trans2 &lt;-   t((Scale) %*% t(Image_trans))     

qplot(Image_trans2[,1], Image_trans2[,2] ) + 
  geom_polygon(fill = &quot;red&quot;) + 
  coord_fixed()</pre>

<p><img src="06_intro_to_linear_algebra_part1_files/figure-html/unnamed-chunk-57-1.png" width="672" style="display: block; margin: auto;" /></p>

</article></slide><slide class=""><hgroup><h2>Применение вращения и масштабирования матричных обектов</h2></hgroup><article  id="применение-вращения-и-масштабирования-матричных-обектов">

<ul>
<li>Многомерные анализы (о некоторых приемах речь впереди)</li>
<li>Работа с изображениями</li>
</ul>

</article></slide><slide class="segue dark nobackground level1"><hgroup class = 'auto-fadein'><h2>Level 6: Корреляционные и ковариационные матрицы</h2></hgroup><article  id="level-6-корреляционные-и-ковариационные-матрицы">

</article></slide><slide class=""><hgroup><h2>Ковариационная матрица</h2></hgroup><article  id="ковариационная-матрица">

<p>Во многих методах многомерной статистики применяется матрица ковариации.</p>

<p>Ковариация (согласованное отклонение от среднего):</p>

<p>\[
cov(X, Y) = \frac{1}{n - 1}\sum{(x_i - \bar{x})(y_i - \bar{y})}
\]</p>

<p><img src="06_intro_to_linear_algebra_part1_files/figure-html/unnamed-chunk-58-1.png" width="672" style="display: block; margin: auto;" /></p>

</article></slide><slide class=""><hgroup><h2>Ковариационная матрица</h2></hgroup><article  id="ковариационная-матрица-1">

<p>\[
\textbf{S} = \frac{1}{n - 1} \textbf{Y}_{centered}&#39;\textbf{Y}_{centered}
\]</p>

<p>где \(\textbf{Y}_{centered}\) - центрированная матрица исходных значений</p>

<p><strong>Центрирование</strong> - перемещение начала координат в точку с координатами, равными средним значениям (центроид)</p>

</article></slide><slide class=""><hgroup><h2>Корреляционая матрица</h2></hgroup><article  id="корреляционая-матрица">

<p>То же самое, что ковариационная матрица, но только на основе стандартизованных исходных значений</p>

<p>\[
\textbf{R} = \frac{1}{n - 1} \textbf{Y}_{stand}&#39;\textbf{Y}_{stand}
\]</p>

</article></slide><slide class=""><hgroup><h2>Вычисление матрицы ковариации с помощью линейной алгебры</h2></hgroup><article  id="вычисление-матрицы-ковариации-с-помощью-линейной-алгебры" class="smaller columns-2">

<p>Исходная матрица</p>

<pre class = 'prettyprint lang-r'>M &lt;- matrix(c(1,2,3,4,5,5,2,1,2,5,2,1,3,5,4,6,8,4,0,2), ncol = 4)
M</pre>

<pre >##      [,1] [,2] [,3] [,4]
## [1,]    1    5    2    6
## [2,]    2    2    1    8
## [3,]    3    1    3    4
## [4,]    4    2    5    0
## [5,]    5    5    4    2</pre>

<p><br></p>

<p><br></p>

<p>Матрица центрированных значений</p>

<pre class = 'prettyprint lang-r'>Cent_M &lt;- scale(M, center = TRUE, scale = FALSE) 
Cent_M</pre>

<pre >##      [,1] [,2] [,3] [,4]
## [1,]   -2    2   -1    2
## [2,]   -1   -1   -2    4
## [3,]    0   -2    0    0
## [4,]    1   -1    2   -4
## [5,]    2    2    1   -2
## attr(,&quot;scaled:center&quot;)
## [1] 3 3 3 4</pre>

</article></slide><slide class=""><hgroup><h2>Вычисление матрицы ковариации с помощью линейной алгебры</h2></hgroup><article  id="вычисление-матрицы-ковариации-с-помощью-линейной-алгебры-1">

<h3>Задание:</h3>

<p>Вычислите ковариационную матрицу с помощью методов линейной алгебры и сравните ее с матрицей, полученной с помощью функции <code>cov()</code></p>

</article></slide><slide class=""><hgroup><h2>Вычисление матрицы ковариации с помощью линейной алгебры</h2></hgroup><article  id="вычисление-матрицы-ковариации-с-помощью-линейной-алгебры-2">

<h3>Решение:</h3>

<pre class = 'prettyprint lang-r'># Вычисление вручную
Cov_M &lt;- (t(Cent_M) %*% Cent_M)/(nrow(M) - 1)
Cov_M</pre>

<pre >##      [,1] [,2] [,3] [,4]
## [1,]  2.5  0.0  2.0   -4
## [2,]  0.0  3.5  0.0    0
## [3,]  2.0  0.0  2.5   -5
## [4,] -4.0  0.0 -5.0   10</pre>

<pre class = 'prettyprint lang-r'>cov(M) # Стандартная функция R</pre>

<pre >##      [,1] [,2] [,3] [,4]
## [1,]  2.5  0.0  2.0   -4
## [2,]  0.0  3.5  0.0    0
## [3,]  2.0  0.0  2.5   -5
## [4,] -4.0  0.0 -5.0   10</pre>

</article></slide><slide class=""><hgroup><h2>Вычисление матрицы ковариации с помощью линейной алгебры</h2></hgroup><article  id="вычисление-матрицы-ковариации-с-помощью-линейной-алгебры-3">

<p>По главной диагонали ковариационной матрицы лежат квадраты стандартных отклонений каждого из векторов (колонок, признаков) исходной матрицы</p>

<pre class = 'prettyprint lang-r'>diag(Cov_M)</pre>

<pre >## [1]  2.5  3.5  2.5 10.0</pre>

<p>Сравним</p>

<pre class = 'prettyprint lang-r'>apply(M, 2, FUN = function(x)sd(x)^2)</pre>

<pre >## [1]  2.5  3.5  2.5 10.0</pre>

</article></slide><slide class=""><hgroup><h2>Вычисление матрицы корреляций с помощью линейной алгебры</h2></hgroup><article  id="вычисление-матрицы-корреляций-с-помощью-линейной-алгебры" class="smaller columns-2">

<p>Для вычисления матрицы корреляций необходимо стандартизировать значения в исходной матрице</p>

<pre class = 'prettyprint lang-r'>Stand_M &lt;- scale(M, center = TRUE, scale = TRUE)
Stand_M</pre>

<pre >##        [,1]   [,2]   [,3]   [,4]
## [1,] -1.265  1.069 -0.632  0.632
## [2,] -0.632 -0.535 -1.265  1.265
## [3,]  0.000 -1.069  0.000  0.000
## [4,]  0.632 -0.535  1.265 -1.265
## [5,]  1.265  1.069  0.632 -0.632
## attr(,&quot;scaled:center&quot;)
## [1] 3 3 3 4
## attr(,&quot;scaled:scale&quot;)
## [1] 1.58 1.87 1.58 3.16</pre>

<p><br></p>

<p><br> <br> <br> <br></p>

<pre class = 'prettyprint lang-r'># Вычисление вручную
Cor_M &lt;- (t(Stand_M) %*% Stand_M)/(nrow(M) - 1)
Cor_M</pre>

<pre >##      [,1] [,2] [,3] [,4]
## [1,]  1.0    0  0.8 -0.8
## [2,]  0.0    1  0.0  0.0
## [3,]  0.8    0  1.0 -1.0
## [4,] -0.8    0 -1.0  1.0</pre>

<pre class = 'prettyprint lang-r'>cor(M) # Стандартная функция R</pre>

<pre >##      [,1] [,2] [,3] [,4]
## [1,]  1.0    0  0.8 -0.8
## [2,]  0.0    1  0.0  0.0
## [3,]  0.8    0  1.0 -1.0
## [4,] -0.8    0 -1.0  1.0</pre>

</article></slide><slide class=""><hgroup><h2>Зачем нужна ковариационная матрица?</h2></hgroup><article  id="зачем-нужна-ковариационная-матрица">

<p>В ковариационной матрице содержится вся информация о варьировании признаков и о их взаимосвязи</p>

<p>Свойства этой матрицы позволяют раскладывать изменчивость на отдельные составляющие (про это у нас будет специальная лекция).</p>

</article></slide><slide class="segue dark nobackground level1"><hgroup class = 'auto-fadein'><h2>Level 7: Еще немного повторения: <em>Обращение (инверсия) матриц</em></h2></hgroup><article  id="level-7-еще-немного-повторения-обращение-инверсия-матриц">

</article></slide><slide class=""><hgroup><h2>Обращение (инверсия) матриц</h2></hgroup><article  id="обращение-инверсия-матриц" class="smaller columns-2">

<p>В линейной алгебре нет процедуры деления. Вместо нее используют обращение матриц.</p>

<p>\[
\textbf{X}^{-1}\textbf{X} = \textbf{I}
\]</p>

<p>Обратить можно только такую матрицу, у которой определитель не равен нулю \[|\textbf{X}| \ne 0\]</p>

<p>Матрицы, у которых определитель \(|\textbf{X}| = 0\) называются <em>сингулярными</em> матрицами они не могут быть инвертированы.</p>

<p><strong>Важно!</strong>: Только квадратные матрицы имеют обратную матрицу.</p>

<p>Для квадратных матриц справедливо \(\textbf{X} \textbf{X}^{-1} = \textbf{X}^{-1} \textbf{X}\)</p>

<p><strong>Важное свойство</strong>: Если квадратная матрица состоит из ортогональных векторов (ортогональная матрица), то \(\textbf{X}&#39; = \textbf{X}^{-1}\)</p>

</article></slide><slide class=""><hgroup><h2>Вычисление обратной матрицы в среде R</h2></hgroup><article  id="вычисление-обратной-матрицы-в-среде-r">

<p>Создадим матрицу</p>

<pre >##      [,1] [,2] [,3]
## [1,]    1    2    3
## [2,]    4    5    6
## [3,]    7    8   10</pre>

<p>Ее определитель</p>

<pre class = 'prettyprint lang-r'>det(X)</pre>

<pre >## [1] -3</pre>

</article></slide><slide class=""><hgroup><h2>Вычисление обратной матрицы в среде R</h2></hgroup><article  id="вычисление-обратной-матрицы-в-среде-r-1">

<p>Обратная матрица</p>

<pre class = 'prettyprint lang-r'>solve(X)</pre>

<pre >##        [,1]  [,2] [,3]
## [1,] -0.667 -1.33    1
## [2,] -0.667  3.67   -2
## [3,]  1.000 -2.00    1</pre>

<p>По определению \(\textbf{X}^{-1}\textbf{X} = \textbf{I}\)</p>

<pre class = 'prettyprint lang-r'>round(solve(X) %*% X )</pre>

<pre >##      [,1] [,2] [,3]
## [1,]    1    0    0
## [2,]    0    1    0
## [3,]    0    0    1</pre>

</article></slide><slide class=""><hgroup><h2>Summary</h2></hgroup><article  id="summary">

<ul>
<li>Линейная алгебра позволяет решать самые разные типы задач.</li>
<li>Матричные методы лежат в основе очень многих типов анализа и служат для решения прикладных задач.</li>
</ul>

</article></slide><slide class=""><hgroup><h2>Что почитать</h2></hgroup><article  id="что-почитать">

<ul>
<li>Legendre P., Legendre L. (2012) Numerical ecology. Second english edition. Elsevier, Amsterdam. Глава 2. Matrix algebra: a summary.</li>
</ul>

</article></slide><slide class="segue dark nobackground level1"><hgroup class = 'auto-fadein'><h2>Not The End</h2></hgroup><article  id="not-the-end">

<img src='images/matrix_2.jpg' title=''/></article></slide>


  <slide class="backdrop"></slide>

</slides>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

<!-- map slide visiblity events into shiny -->
<script>
  (function() {
    if (window.jQuery) {
       window.jQuery(document).on('slideleave', function(e) {
         window.jQuery(e.target).trigger('hidden');
      });
       window.jQuery(document).on('slideenter', function(e) {
         window.jQuery(e.target).trigger('shown');
      });
    }
  })();
</script>

</body>
</html>
